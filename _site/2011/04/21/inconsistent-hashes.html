<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Inconsistent hashes</title>
   <meta name="author" content="Anuj Dutta (andHapp)" />
   <meta name="description" content="Journey through ruby exploring its various facets."/>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>

<body class="home blog">
  <div id="siteWrapper">
    <h1 class="vcard author">
      <a class="fn" title="Home" href="/">plough => Ruby</a>
    </h1>
    <div id="siteDescription">Journey through Ruby</div>
    <div id="coreContent" class="hfeed">
      <div class="post hentry">
  <h5 class="postDate">
    21 April 2011
  </h5>
  <div class="postContent">
    <h3 class="entry-title">
      Inconsistent hashes
    </h3>
  </div>
  <div class="entry-content">
    <p>To clarify, hashes here does not mean the Hash class. Object's in ruby have a hash method that returns a hash code for an object. The hash is also used in the background by the eql? method. So, it's safe to say that two objects are equal if their hash methods return the same value.</p>

<p>Now, carry out a simple exercise and see what happens. Fire up an IRB session and run the following code, one by one:</p>

<pre>
    "test".hash
    1.hash
    [].hash
</pre>


<p>And note the output after every command run. Now, exit out of IRB and start a fresh session and run the same piece of code again. This time you will see the hash values have changed completely. This might be a bit surprising but it has been implemented in Ruby 1.9 for security reasons as it avoids one from guessing hash values. I picked this up from Ruby-core ML discussion and hope you find it useful.</p>

  </div>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>17 Apr 2011</span> &raquo; <a href="/2011/04/17/an-interesting-ruby-method.html">An Interesting Ruby Method</a></li>
    
      <li><span>12 Mar 2011</span> &raquo; <a href="/2011/03/12/ruby-hacking-guide-chapter-1.html">Ruby Hacking Guide - Chapter 1</a></li>
    
      <li><span>12 Mar 2011</span> &raquo; <a href="/2011/03/12/free-ruby-1.9-online-book.html">Free Ruby 1.9 Online Book</a></li>
    
  </ul>
</div>
    </div>
  </div>
  <div id="footer">
    <h5>Elsewhere</h5>
    <ul class="elsewhere">
      <li><a href="http://www.andhapp.com">andHapp.com</a></li>
      <li><a href="http://github.com/andhapp">Github</a></li>
      <li><a href="http://twitter.com/andhapp">Twitter</a></li>
    </ul>
    <div class="footerContent">
      <p>&copy; ploughthroughruby.co.uk. Powered by <a href="https://github.com/mojombo/jekyll/">Jekyll</a> and <a href="http://jimbarraud.com/manifest/">Manifest</a></p>
    </div>
  </div>
</body>
</html>
