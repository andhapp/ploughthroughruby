<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Paperclip and rescue</title>
   <meta name="author" content="Anuj Dutta (andHapp)" />
   <meta name="description" content="Journey through ruby exploring its various facets."/>

   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>

<body class="home blog">
  <div id="siteWrapper">
    <h1 class="vcard author">
      <a class="fn" title="Home" href="/">plough => Ruby</a>
    </h1>
    <div id="siteDescription">Journey through Ruby</div>
    <div id="coreContent" class="hfeed">
      <div class="post hentry">
  <h5 class="postDate">
    06 July 2010
  </h5>
  <div class="postContent">
    <h3 class="entry-title">
      Paperclip and rescue
    </h3>
  </div>
  <div class="entry-content">
    <p>Reading Open Source Code is probably the best way of learning new ways. Paperclip is an amazing file upload tool by brilliant guys at Thoughtbot. And yesterday, while going through their code I realised that <strong>rescue</strong> can be used as a statement modifier. For example, consider this block of code below:</p>

<pre>
  type = (self.path.match(/\.(\w+)$/)[1] rescue "octet-stream").downcase
</pre>


<p>What do you think happens here?
Its quite simple really. If the first statement (the match bit) raises and exception the second statement is executed instead.</p>

<p>Another way to write this would be:</p>

<pre>
  begin
    type = (self.path.match(/\.(\w+)$/)[1]).downcase
  rescue
    "octet-stream"
  end
</pre>


  </div>
</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>03 Jan 2011</span> &raquo; <a href="/2011/01/03/convert-array-to-hash-mystery.html">Convert Array to Hash mystery</a></li>
    
      <li><span>22 Feb 2010</span> &raquo; <a href="/2010/02/22/install-pg-and-mysql-gems.html">Install pg and mysql gems</a></li>
    
      <li><span>20 Dec 2009</span> &raquo; <a href="/2009/12/20/proc-proc-blocks.html">Proc, proc, blocks</a></li>
    
  </ul>
</div>


    </div>
  </div>
  <div id="footer">
    <h5>Elsewhere</h5>
    <ul class="elsewhere">
      <li><a href="http://www.andhapp.com/blog">andHapp.com</a></li>
      <li><a href="http://github.com/andhapp">Github</a></li>
      <li><a href="http://twitter.com/andhapp">Twitter</a></li>
    </ul>
    <div class="footerContent">
      <p>&copy; ploughthroughruby.co.uk. Powered by <a href="https://github.com/mojombo/jekyll/">Jekyll</a> and <a href="http://jimbarraud.com/manifest/">Manifest</a></p>
    </div>
  </div>
</body>
</html>
