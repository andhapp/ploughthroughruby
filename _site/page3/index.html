<!doctype html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Plough => Ruby &middot; Journey through ruby
    
  </title>

  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Plough => Ruby" href="/atom.xml">

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Home" />
<meta name="author" content="andhapp" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Learning Ruby / Rails programming language" />
<meta property="og:description" content="Learning Ruby / Rails programming language" />
<link rel="canonical" href="http://localhost:4000/page3/" />
<meta property="og:url" content="http://localhost:4000/page3/" />
<meta property="og:site_name" content="Plough =&gt; Ruby" />
<link rel="prev" href="http://localhost:4000/page2" />
<link rel="next" href="http://localhost:4000/page4" />
<script type="application/ld+json">
{"url":"http://localhost:4000/page3/","@type":"WebPage","headline":"Home","author":{"@type":"Person","name":"andhapp"},"description":"Learning Ruby / Rails programming language","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Plough => Ruby</a>
          <small>Journey through ruby</small>
        </h3>
      </header>

      <main>
        <div class="posts">
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2015/01/25/ruby-command-line-flags/">
        Ruby command line flag for debugging
      </a>
    </h1>

    <time datetime="2015-01-25T00:00:00+00:00" class="post-date">25 Jan 2015</time>

    <p>Reading open source code is almost always a good idea. Open source code
has the benefit of being reviewed by a lot of committed users and it
just shows the good patterns of programming. For instance, I once
looked at Arel, and the code demonstrates an exemplary use of visitor
pattern. There isn’t much code there, yet it manages to achieve so much.</p>

<p>Recently, I was reading some open source code recently and spotted $DEBUG
environment variable in quite a few places. At the time, I thought it
must be something the author used to simplify debugging. But, no, it’s
defined and used by ruby core. Ruby provides a debug flag (-d or –debug) 
which when used would set the $DEBUG to true.</p>

<p>Try running the following script in irb, pry or whatever else you use:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby -d -e 'if $DEBUG; puts "Debugging"; end'
</code></pre></div></div>

<p>and you should see something like this as output:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RUBY_GC_HEAP_FREE_SLOTS=200000 (default value: 4096)
RUBY_GC_MALLOC_LIMIT=90000000 (default value: 16777216)
Exception `LoadError' at /Users/andhapp/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/rubygems.rb:1222 - cannot load such file -- rubygems/defaults/operating_system
Exception `LoadError' at /Users/andhapp/.rvm/rubies/ruby-2.2.0/lib/ruby/2.2.0/rubygems.rb:1231 - cannot load such file -- rubygems/defaults/ruby
Debugging
</code></pre></div></div>

<p>Don’t worry about the two exceptions as in <a href="http://stackoverflow.com/a/1851232/20301">debug mode exceptions are displayed</a> even when they are rescued.</p>

  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2014/12/31/setting-up-chrome-selenium-driver-for-capybara-using-chrome-canary-on-a-mac-copy/">
        Setting Up Chrome Selenium driver for Capybara when using chrome canary on a Mac
      </a>
    </h1>

    <time datetime="2014-12-31T00:00:00+00:00" class="post-date">31 Dec 2014</time>

    <p>We have been adding Rspec + Capybara to <a href="https://suggestion.io">Suggestion.io</a> 
to ensure we don’t create any regression bugs. There are plenty of resources 
online to set-up Capybara to use Selenium’s Chrome driver (instead of Firefox).</p>

<h3 id="but-what-if-you-are-using-chrome-canary-as-your-browser">But, what if you are using Chrome Canary as your browser?</h3>

<p>You would probably see the following error:</p>

<pre>
Selenium::WebDriver::Error::UnknownError: unknown error: cannot find Chrome binary
</pre>

<p>There are two ways to fix this issue:</p>

<p>### Solution 1 - Download Chrome</p>

<p>Whilst, searching for the solution, I ended up on <a href="https://code.google.com/p/selenium/wiki/ChromeDriver">ChromeDriver’s wiki</a>. 
It clearly states that Chrome driver expects the Chrome binary to be in:</p>

<pre>
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome
</pre>

<p>That’s exactly where Chrome is installed on a Mac, so, to fix this issue
just download Chrome.</p>

<h3 id="solution-2---pass-the-location-of-chrome-canarys-binary-to-selenium-chrome-driver-via-capybara">Solution 2 - Pass the location of Chrome Canary’s binary to Selenium Chrome Driver via Capybara</h3>

<p>Downloading Chrome just for the sake of passing specs doesn’t make
sense. Googling revealed that there’s something called ‘ChromeOptions’, but, 
how the hell do I pass that option from Capybara, so that it get’s passed 
correctly to Selenium Chrome driver. After, trawling through the
capybara and selenium-webdriver source, I found a way to pass the location 
of Chrome Canary as the binary. Here’s how:</p>

<pre>
Capybara.register_driver :chrome do |app|
  Capybara::Selenium::Driver.new(app, 
    browser: :chrome, 
    desired_capabilities: {
      "chromeOptions" =&gt; {
        "binary" =&gt; '/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary' 
      } 
    })
end
</pre>

<p>The ‘binary’ option specifies the location of Chrome Canary’s binary on
your Mac.</p>

<p>That was a couple of hours well spent. Hope it helps!</p>

  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2014/10/19/an-unusual-thing-about-kanji(Japanese)/">
        An unsual thing about kanji(Japanese)
      </a>
    </h1>

    <time datetime="2014-10-19T00:00:00+01:00" class="post-date">19 Oct 2014</time>

    <p>Recently, I was reading an article on natural language processing of
Japanese characters and came across something very unusual about the way
Japanese characters are written, there is no delimiters between the
words, for example, if ‘Ruby’ and ‘Blog’ are two kanji characters then
they will be written as ‘RubyBlog’ with no delimiter (space in English)
between them. It makes segmenting Japanese text a lot harder since
combination of characters could mean two entirely different things.</p>

<p>I just found it very fascinating and challenging at the same time.</p>

  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2014/09/20/rspec-verifying-doubles/">
        RSpec verifying doubles
      </a>
    </h1>

    <time datetime="2014-09-20T00:00:00+01:00" class="post-date">20 Sep 2014</time>

    <p>RSpec 3 has been full of some good stuff and I have full admiration for
the people behind it. Even the upgrade process was well thought out
keeping in mind the end users. As developers, we are used to handle poor
upgrade process pretty well, but RSpec totally changed my opinion.</p>

<p>Whilst <a href="https://github.com/andhapp/textrazor/pull/4">merging pull request for TextRazor</a>, I decided to upgrade the gem
to RSpec3. I was meant to do that for sometime anyways, and the pull
request opened up the perfect opportunity for it. I stumbled upon a very
interesting new feature in RSpec3, called <a href="https://relishapp.com/rspec/rspec-mocks/v/3-0/docs/verifying-doubles/using-an-instance-double">verifying doubles</a>. This
functionality makes <a href="https://github.com/xaviershay/rspec-fire">rspec-fire</a> totally obsolete. It verifies that any
methods being stubbed would be present on the instance of the class
being stubbed and also the number of argument the method accepts. This
is pretty cool. I always used rspec-fire to make sure that my stubbed
method existed on the class. In the light of these updates, I removed
<a href="https://github.com/andhapp/textrazor/commit/48aeff496be89c7433dadfbbedd3e1d3e4375b64">rspec-fire as a dependency from TextRazor</a>. Makes it even more
lightweight.</p>

<p>Thanks again to RSpec team!</p>

  </article>
  
  <article class="post">
    <h1 class="post-title">
      <a href="/2014/06/15/ruby-puts-command/">
        Ruby puts command
      </a>
    </h1>

    <time datetime="2014-06-15T00:00:00+01:00" class="post-date">15 Jun 2014</time>

    <p>Ruby’s puts command will lead the ‘most used command’ competition in the language. It’s probably the first command you run when you fire up irb, or write HelloWorld.rb. I have been using it from day 1, for debugging, printing out the progress of long running scripts and so on. I recently found couple of nifty things you can do with puts command:</p>

<ul>
  <li>You can pass it multiple arguments and it will print them on the screen with a line break, for example:</li>
</ul>

<pre>
irb(main):001:0&gt; puts "First", "day"
First
day
=&gt; nil
</pre>

<ul>
  <li>Secondly, you can pass it an array of elements, and it will print the elements with a line break, for example:</li>
</ul>

<pre>
irb(main):004:0&gt; puts ["Second", "Day"]
Second
Day
=&gt; nil
</pre>

<p>Hope you can use this to replace multiple calls to puts in your code.</p>

  </article>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page4">Older</a>
  
  
    <a class="pagination-item newer" href="/page2">Newer</a>
  
</div>

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2021-07-03T06:18:22+01:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
  </body>
</html>
