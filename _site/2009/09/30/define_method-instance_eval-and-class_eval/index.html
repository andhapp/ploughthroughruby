<!doctype html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      define_method, instance_eval and class_eval &middot; Plough => Ruby
    
  </title>

  <link rel="stylesheet" href="/styles.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Plough => Ruby" href="/atom.xml">

  <!-- Begin Jekyll SEO tag v2.6.1 -->
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="define_method, instance_eval and class_eval" />
<meta name="author" content="andhapp" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Right, so this is a tad confusing and the reason I am explaining is to ensure that I understand it properly. instance_eval - It creates singleton methods on the object it is invoked on. If it is invoked on a Class object then these methods become singleton methods of the class. Some people would call them “class methods” but these are simply methods in an object’s singleton class. Here’s the code: SomeObject.instance_eval (def singleton_method; &quot;singleton_method&quot;;end) class_eval - It creates an instance method on the object. Simple there is nothing confusing about this. Here’s an example: SomeObject.class_eval(def instance_method;&quot;instance_method&quot;;end) Now, define method when used inside either class_eval or instance_eval s immune to the usual behaviour. Why, you may ask? Because the documentation says so. As per the documentation “define method - Defines an instance method in the receiver”. Therefore, it does not matter if you use define_method inside class_eval or instance_eval it would always create an instance method. Now, the question to ask is - “Is there no way to define a singleton method using defne_method?”. Well, I still need to investigate that. It would probably be in an update to this post. Hope it all makes sense. Ruby metaprogramming is awesome only if you know what you are doing and to get to that stage one needs to spend countless hours metaprogramming." />
<meta property="og:description" content="Right, so this is a tad confusing and the reason I am explaining is to ensure that I understand it properly. instance_eval - It creates singleton methods on the object it is invoked on. If it is invoked on a Class object then these methods become singleton methods of the class. Some people would call them “class methods” but these are simply methods in an object’s singleton class. Here’s the code: SomeObject.instance_eval (def singleton_method; &quot;singleton_method&quot;;end) class_eval - It creates an instance method on the object. Simple there is nothing confusing about this. Here’s an example: SomeObject.class_eval(def instance_method;&quot;instance_method&quot;;end) Now, define method when used inside either class_eval or instance_eval s immune to the usual behaviour. Why, you may ask? Because the documentation says so. As per the documentation “define method - Defines an instance method in the receiver”. Therefore, it does not matter if you use define_method inside class_eval or instance_eval it would always create an instance method. Now, the question to ask is - “Is there no way to define a singleton method using defne_method?”. Well, I still need to investigate that. It would probably be in an update to this post. Hope it all makes sense. Ruby metaprogramming is awesome only if you know what you are doing and to get to that stage one needs to spend countless hours metaprogramming." />
<link rel="canonical" href="http://localhost:4000/2009/09/30/define_method-instance_eval-and-class_eval/" />
<meta property="og:url" content="http://localhost:4000/2009/09/30/define_method-instance_eval-and-class_eval/" />
<meta property="og:site_name" content="Plough =&gt; Ruby" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-09-30T00:00:00+01:00" />
<script type="application/ld+json">
{"url":"http://localhost:4000/2009/09/30/define_method-instance_eval-and-class_eval/","@type":"BlogPosting","headline":"define_method, instance_eval and class_eval","dateModified":"2009-09-30T00:00:00+01:00","datePublished":"2009-09-30T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2009/09/30/define_method-instance_eval-and-class_eval/"},"author":{"@type":"Person","name":"andhapp"},"description":"Right, so this is a tad confusing and the reason I am explaining is to ensure that I understand it properly. instance_eval - It creates singleton methods on the object it is invoked on. If it is invoked on a Class object then these methods become singleton methods of the class. Some people would call them “class methods” but these are simply methods in an object’s singleton class. Here’s the code: SomeObject.instance_eval (def singleton_method; &quot;singleton_method&quot;;end) class_eval - It creates an instance method on the object. Simple there is nothing confusing about this. Here’s an example: SomeObject.class_eval(def instance_method;&quot;instance_method&quot;;end) Now, define method when used inside either class_eval or instance_eval s immune to the usual behaviour. Why, you may ask? Because the documentation says so. As per the documentation “define method - Defines an instance method in the receiver”. Therefore, it does not matter if you use define_method inside class_eval or instance_eval it would always create an instance method. Now, the question to ask is - “Is there no way to define a singleton method using defne_method?”. Well, I still need to investigate that. It would probably be in an update to this post. Hope it all makes sense. Ruby metaprogramming is awesome only if you know what you are doing and to get to that stage one needs to spend countless hours metaprogramming.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Plough => Ruby</a>
          <small>Journey through ruby</small>
        </h3>
      </header>

      <main>
        <article class="post">
  <h1 class="post-title">define_method, instance_eval and class_eval</h1>
  <time datetime="2009-09-30T00:00:00+01:00" class="post-date">30 Sep 2009</time>
  <p>Right, so this is a tad confusing and the reason I am explaining is to ensure that I understand it properly.</p>

<p><strong>instance_eval</strong> - It creates singleton methods on the object it is invoked on. If it is invoked on a Class object then these methods become singleton methods of the class. Some people would call them <del datetime="2009-09-30T19:13:53+00:00">“class methods”</del> but these are simply methods in an object’s singleton class. Here’s the code:</p>

<pre>
SomeObject.instance_eval (def singleton_method; "singleton_method";end)
</pre>

<p><strong>class_eval</strong> - It creates an instance method on the object. Simple there is nothing confusing about this. Here’s an example:</p>

<pre>
SomeObject.class_eval(def instance_method;"instance_method";end)
</pre>

<p>Now, define method when used inside either class_eval or instance_eval s immune to the usual behaviour.</p>

<p>Why, you may ask?</p>

<p>Because the documentation says so. As per the documentation “define method - Defines an instance method in the receiver”. Therefore, it does not matter if you use define_method inside class_eval or instance_eval it would always create an instance method. Now, the question to ask is - “Is there no way to define a singleton method using defne_method?”. Well, I still need to investigate that. It would probably be in an update to this post. Hope it all makes sense. Ruby metaprogramming is awesome only if you know what you are doing and to get to that stage one needs to spend countless hours metaprogramming.</p>

</article>


<aside class="related">
  <h3>Related posts</h3>
  <ul class="related-posts">
    
      <li>
        <a href="/2019/09/27/yarn-install-on-mojave/">
          Yarn Install On Mojave
          <small><time datetime="2019-09-27T00:00:00+01:00">27 Sep 2019</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2019/09/27/installing-ffi-1.11.1-on-mojave/">
          Installing Ffi 1.11.1 On Mojave
          <small><time datetime="2019-09-27T00:00:00+01:00">27 Sep 2019</time></small>
        </a>
      </li>
    
      <li>
        <a href="/2016/10/06/dont-blindly-follow-blog-posts/">
          Dont Blindly Follow Blog Posts
          <small><time datetime="2016-10-06T00:00:00+01:00">06 Oct 2016</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2021-07-03T06:18:22+01:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
  </body>
</html>
